const a9_0x4a22=['push','project','tasks','__esModule','map','TaskGraphCreator','projectGraph','self','has','addDependencies','indexOf','target','findTask','defaultTargetDependencies','../../../utilities/nx-imports','roots','createTaskGraph','dependencies','add','addTaskToGraph'];(function(_0x70f456,_0x4a22d0){const _0x50bcac=function(_0x59de64){while(--_0x59de64){_0x70f456['push'](_0x70f456['shift']());}};_0x50bcac(++_0x4a22d0);}(a9_0x4a22,0x81));const a9_0x50bc=function(_0x70f456,_0x4a22d0){_0x70f456=_0x70f456-0x0;let _0x50bcac=a9_0x4a22[_0x70f456];return _0x50bcac;};'use strict';Object['defineProperty'](exports,a9_0x50bc('0xe'),{'value':!![]});exports[a9_0x50bc('0x10')]=void 0x0;const {getDependencyConfigs}=require(a9_0x50bc('0x5'));class TaskGraphCreator{constructor(_0x3968d2,_0x35de54){this[a9_0x50bc('0x11')]=_0x3968d2;this[a9_0x50bc('0x4')]=_0x35de54;}[a9_0x50bc('0x7')](_0x5cb072){const _0x475b5e={'roots':[],'tasks':{},'dependencies':{}};for(const _0x3b63ae of _0x5cb072){this['addTaskToGraph'](_0x3b63ae,_0x475b5e);const _0xd217ca=getDependencyConfigs(_0x3b63ae[a9_0x50bc('0x2')],this[a9_0x50bc('0x4')],this[a9_0x50bc('0x11')]);if(!_0xd217ca){continue;}this['addTaskDependencies'](_0x3b63ae,_0xd217ca,_0x5cb072,_0x475b5e);}_0x475b5e[a9_0x50bc('0x6')]=Object['keys'](_0x475b5e[a9_0x50bc('0x8')])['filter'](_0x17af1e=>_0x475b5e['dependencies'][_0x17af1e]['length']===0x0);return _0x475b5e;}['addTaskDependencies'](_0x1532a9,_0x295a0d,_0x2966f4,_0x6731d){for(const _0x1e50b1 of _0x295a0d){if(_0x1e50b1['projects']===a9_0x50bc('0x12')){for(const _0x2a3c53 of _0x2966f4){if(_0x2a3c53[a9_0x50bc('0x2')][a9_0x50bc('0xc')]===_0x1532a9[a9_0x50bc('0x2')][a9_0x50bc('0xc')]&&_0x2a3c53['target']['target']===_0x1e50b1[a9_0x50bc('0x2')]){_0x6731d[a9_0x50bc('0x8')][_0x1532a9['id']]['push'](_0x2a3c53['id']);}}}else if(_0x1e50b1['projects']===a9_0x50bc('0x8')){const _0x4d29d6=new Set();this[a9_0x50bc('0x0')](_0x1532a9['target'][a9_0x50bc('0xc')],_0x1e50b1[a9_0x50bc('0x2')],_0x2966f4,_0x6731d,_0x1532a9['id'],_0x4d29d6);}}}[a9_0x50bc('0x0')](_0x435ddc,_0x32c21f,_0x1705cd,_0x58b8f6,_0xe5795d,_0x31c637){_0x31c637[a9_0x50bc('0x9')](_0x435ddc);const _0x36a812=this[a9_0x50bc('0x11')][a9_0x50bc('0x8')][_0x435ddc];if(_0x36a812){const _0x38956c=_0x36a812[a9_0x50bc('0xf')](_0x19f6ed=>_0x19f6ed['target']);for(const _0x22491c of _0x38956c){if(_0x31c637[a9_0x50bc('0x13')](_0x22491c)){continue;}const _0x490e66=this[a9_0x50bc('0x3')]({'project':_0x22491c,'target':_0x32c21f},_0x1705cd);if(_0x490e66){if(_0x58b8f6['dependencies'][_0xe5795d][a9_0x50bc('0x1')](_0x490e66['id'])===-0x1){_0x58b8f6['dependencies'][_0xe5795d][a9_0x50bc('0xb')](_0x490e66['id']);}}else{this[a9_0x50bc('0x0')](_0x22491c,_0x32c21f,_0x1705cd,_0x58b8f6,_0xe5795d,_0x31c637);}}}}[a9_0x50bc('0x3')]({project,target},_0xd0a27e){return _0xd0a27e['find'](_0x558f61=>_0x558f61['target'][a9_0x50bc('0xc')]===project&&_0x558f61[a9_0x50bc('0x2')][a9_0x50bc('0x2')]===target);}[a9_0x50bc('0xa')](_0x7e1c4f,_0x3f7a34){_0x3f7a34[a9_0x50bc('0xd')][_0x7e1c4f['id']]=_0x7e1c4f;_0x3f7a34['dependencies'][_0x7e1c4f['id']]=[];}}exports['TaskGraphCreator']=TaskGraphCreator;