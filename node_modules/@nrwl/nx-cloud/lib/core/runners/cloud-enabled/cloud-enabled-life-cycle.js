const a0_0x1244=['runContext','MAX_CHARACTERS_FAILED_TASK','serializeOverrides','endCommand','scheduledTasks','CloudEnabledLifeCycle','cacheStatus','forEach','endTasks','length','readFileSync','status','statuses','push','../../../utilities/environment','Cannot\x20find\x20task\x20','path','defineProperty','filter','cacheDirectory','obfuscate','slice','MAX_CHARACTERS_SUCCESSFUL_TASK','local-cache','toString','params','local-cache-kept-existing','__esModule','skipNxCache','getTerminalOutput','updateStartedTask','nodes','collectTerminalOutput','node_modules','cleanUpHashDetails','cache-miss','cacheableOperations','toISOString','implicitDeps','../../../utilities/serializer-overrides','join','remote-cache-hit','find','terminalOutput','startsWith','tasks','hash','startTask','indexOf','.cache','project','local-cache-hit','target','readTerminalOutputFile','MAX_CHARACTERS_CACHED_TASK','endTask','keys','TRUNCATED\x0a\x0a','task','endTime','outputObfuscator','taskId','terminalOutputs'];(function(_0x271cc7,_0x124436){const _0x3aa533=function(_0x3dbfbd){while(--_0x3dbfbd){_0x271cc7['push'](_0x271cc7['shift']());}};_0x3aa533(++_0x124436);}(a0_0x1244,0x108));const a0_0x3aa5=function(_0x271cc7,_0x124436){_0x271cc7=_0x271cc7-0x0;let _0x3aa533=a0_0x1244[_0x271cc7];return _0x3aa533;};'use strict';Object[a0_0x3aa5('0x5')](exports,a0_0x3aa5('0xf'),{'value':!![]});exports[a0_0x3aa5('0x38')]=void 0x0;const path=require(a0_0x3aa5('0x4'));const path_1=require(a0_0x3aa5('0x4'));const fs_1=require('fs');const environment_1=require(a0_0x3aa5('0x2'));const serializer_overrides_1=require(a0_0x3aa5('0x1b'));const {workspaceRoot}=require('../../../utilities/nx-imports');class CloudEnabledLifeCycle{constructor(_0x16d72c,_0x2c336f,_0x529f08,_0x6f8fb9,_0x4ea57a,_0x32d7dc,_0x48d3f0){this[a0_0x3aa5('0x33')]=_0x16d72c;this['cacheDirectory']=_0x2c336f;this[a0_0x3aa5('0x10')]=_0x529f08;this['collectTerminalOutput']=_0x6f8fb9;this[a0_0x3aa5('0x18')]=_0x4ea57a;this[a0_0x3aa5('0x30')]=_0x32d7dc;this[a0_0x3aa5('0x21')]=_0x48d3f0;}['scheduleTask'](_0x2f1b7f){this['runContext'][a0_0x3aa5('0x37')][a0_0x3aa5('0x1')](_0x2f1b7f);}[a0_0x3aa5('0x23')](_0x4be3a1){this[a0_0x3aa5('0x21')][a0_0x3aa5('0x1')]({'taskId':_0x4be3a1['id'],'startTime':new Date()[a0_0x3aa5('0x19')](),'target':_0x4be3a1[a0_0x3aa5('0x28')][a0_0x3aa5('0x28')],'projectName':_0x4be3a1[a0_0x3aa5('0x28')][a0_0x3aa5('0x26')],'hash':_0x4be3a1[a0_0x3aa5('0x22')],'hashDetails':this[a0_0x3aa5('0x16')](_0x4be3a1['hashDetails']),'params':(0x0,serializer_overrides_1[a0_0x3aa5('0x35')])(_0x4be3a1)});}[a0_0x3aa5('0x2b')](_0x2d947b,_0x1c5570){let _0x45ab55;if(this[a0_0x3aa5('0x33')][a0_0x3aa5('0x0')][_0x2d947b['hash']]){_0x45ab55=this[a0_0x3aa5('0x33')][a0_0x3aa5('0x0')][_0x2d947b[a0_0x3aa5('0x22')]];}else{if(this[a0_0x3aa5('0x18')][a0_0x3aa5('0x24')](_0x2d947b[a0_0x3aa5('0x28')][a0_0x3aa5('0x28')])>-0x1&&!this['skipNxCache']){_0x45ab55=a0_0x3aa5('0x27');}else{_0x45ab55=a0_0x3aa5('0x17');}}this[a0_0x3aa5('0x12')](_0x2d947b,_0x1c5570,_0x45ab55);}[a0_0x3aa5('0x3b')](_0x37fe33){for(let _0xe5981d of _0x37fe33){const _0x25bd42=_0xe5981d['status']==='remote-cache'?a0_0x3aa5('0x1d'):_0xe5981d[a0_0x3aa5('0x3e')]===a0_0x3aa5('0xb')||_0xe5981d['status']===a0_0x3aa5('0xe')?a0_0x3aa5('0x27'):'cache-miss';this['updateStartedTask'](_0xe5981d[a0_0x3aa5('0x2e')],_0xe5981d['code'],_0x25bd42);}}[a0_0x3aa5('0x36')](){}[a0_0x3aa5('0x12')](_0x2b6d48,_0x3c6122,_0x522f29){const _0x1e39b4=this[a0_0x3aa5('0x21')][a0_0x3aa5('0x1e')](_0x418e30=>_0x418e30[a0_0x3aa5('0x31')]===_0x2b6d48['id']);if(!_0x1e39b4){throw new Error(a0_0x3aa5('0x3')+_0x2b6d48['id']);}_0x1e39b4[a0_0x3aa5('0x2f')]=new Date()[a0_0x3aa5('0x19')]();_0x1e39b4['status']=_0x3c6122;_0x1e39b4[a0_0x3aa5('0xd')]=this[a0_0x3aa5('0x30')][a0_0x3aa5('0x8')](_0x1e39b4[a0_0x3aa5('0xd')]);_0x1e39b4['cacheStatus']=_0x522f29;if(this[a0_0x3aa5('0x14')]){_0x1e39b4[a0_0x3aa5('0x1f')]=this[a0_0x3aa5('0x11')](_0x2b6d48[a0_0x3aa5('0x22')],_0x1e39b4[a0_0x3aa5('0x39')],_0x3c6122);}}[a0_0x3aa5('0x11')](_0x3bd8d1,_0x42cbe3,_0x34af47){let _0x367123;if(this[a0_0x3aa5('0x7')]){if(this[a0_0x3aa5('0x7')]['startsWith']('./')){_0x367123=(0x0,path_1[a0_0x3aa5('0x1c')])(workspaceRoot,this[a0_0x3aa5('0x7')]);}else{_0x367123=this[a0_0x3aa5('0x7')];}}else{_0x367123=(0x0,path_1[a0_0x3aa5('0x1c')])(workspaceRoot,a0_0x3aa5('0x15'),a0_0x3aa5('0x25'),'nx');}try{const _0x7b70d3=this[a0_0x3aa5('0x29')](_0x367123,_0x3bd8d1);const _0xe0c762=this[a0_0x3aa5('0x30')][a0_0x3aa5('0x8')](_0x7b70d3);if(environment_1['NX_CLOUD_UNLIMITED_OUTPUT'])return _0xe0c762;const _0x48ace2=_0x42cbe3==='cache-miss'?_0x34af47===0x0?CloudEnabledLifeCycle[a0_0x3aa5('0xa')]:CloudEnabledLifeCycle[a0_0x3aa5('0x34')]:CloudEnabledLifeCycle[a0_0x3aa5('0x2a')];return _0xe0c762['length']>_0x48ace2?a0_0x3aa5('0x2d')+_0xe0c762[a0_0x3aa5('0x9')](_0xe0c762[a0_0x3aa5('0x3c')]-_0x48ace2):_0xe0c762;}catch(_0x43b22c){return'';}}[a0_0x3aa5('0x16')](_0x25c3ed){const _0x4c8222={};Object[a0_0x3aa5('0x2c')](_0x25c3ed[a0_0x3aa5('0x13')])[a0_0x3aa5('0x6')](_0x3ca45b=>!_0x3ca45b[a0_0x3aa5('0x20')]('npm:'))[a0_0x3aa5('0x3a')](_0x1dfeb3=>{_0x4c8222[_0x1dfeb3]=_0x25c3ed[a0_0x3aa5('0x13')][_0x1dfeb3];});return{'nodes':_0x4c8222,'runtime':_0x25c3ed['runtime'],'implicitDeps':_0x25c3ed[a0_0x3aa5('0x1a')]};}[a0_0x3aa5('0x29')](_0x1c5025,_0x1c87b3){try{return(0x0,fs_1[a0_0x3aa5('0x3d')])(path['join'](_0x1c5025,a0_0x3aa5('0x32'),_0x1c87b3))[a0_0x3aa5('0xc')]();}catch(_0x53c448){try{return(0x0,fs_1[a0_0x3aa5('0x3d')])(path['join'](_0x1c5025,_0x1c87b3,a0_0x3aa5('0x1f')))[a0_0x3aa5('0xc')]();}catch(_0x3dd5a1){return'';}}}}exports[a0_0x3aa5('0x38')]=CloudEnabledLifeCycle;CloudEnabledLifeCycle[a0_0x3aa5('0x34')]=0x30d40;CloudEnabledLifeCycle[a0_0x3aa5('0xa')]=0x4e20;CloudEnabledLifeCycle[a0_0x3aa5('0x2a')]=0x4e20;