const a2_0x4209=['Nx\x20Cloud:\x20Cache\x20miss\x20','VERBOSE_LOGGING','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','storeRequests','statuses','push','CloudRemoteCache','forEach','get','extractErrorMessage','fileStorage','Nx\x20Cloud:\x20Skipping\x20storing\x20','../../../utilities/environment','.\x20Read\x20only\x20token\x20is\x20used.','runContext','resolve','status','next','then','../../../utilities/nx-imports','retrieve','storage','__esModule','cache-miss','waitForStoreRequestsToComplete','requests','done','map','axiosException','response','reduce','filter','cacheError','put','messages','all','api','hash','startRun','note','hashUrls','__awaiter','defineProperty','.\x20Status\x20404.','value'];(function(_0x1f216f,_0x42098a){const _0x2ed5eb=function(_0x22d74a){while(--_0x22d74a){_0x1f216f['push'](_0x1f216f['shift']());}};_0x2ed5eb(++_0x42098a);}(a2_0x4209,0xe6));const a2_0x2ed5=function(_0x1f216f,_0x42098a){_0x1f216f=_0x1f216f-0x0;let _0x2ed5eb=a2_0x4209[_0x1f216f];return _0x2ed5eb;};'use strict';var __awaiter=this&&this[a2_0x2ed5('0x24')]||function(_0x29b9e0,_0x4ee9ac,_0x3699f4,_0x522f99){function _0x5bbcc9(_0x1910a9){return _0x1910a9 instanceof _0x3699f4?_0x1910a9:new _0x3699f4(function(_0x3d7d45){_0x3d7d45(_0x1910a9);});}return new(_0x3699f4||(_0x3699f4=Promise))(function(_0x16e3c4,_0x4873a5){function _0x4f6f6a(_0x4bfd62){try{_0x6f9c12(_0x522f99['next'](_0x4bfd62));}catch(_0x3ef5e7){_0x4873a5(_0x3ef5e7);}}function _0x11639c(_0x5727ce){try{_0x6f9c12(_0x522f99['throw'](_0x5727ce));}catch(_0x4f6565){_0x4873a5(_0x4f6565);}}function _0x6f9c12(_0x35e17a){_0x35e17a[a2_0x2ed5('0x15')]?_0x16e3c4(_0x35e17a['value']):_0x5bbcc9(_0x35e17a[a2_0x2ed5('0x27')])[a2_0x2ed5('0xd')](_0x4f6f6a,_0x11639c);}_0x6f9c12((_0x522f99=_0x522f99['apply'](_0x29b9e0,_0x4ee9ac||[]))[a2_0x2ed5('0xc')]());});};Object[a2_0x2ed5('0x25')](exports,a2_0x2ed5('0x11'),{'value':!![]});exports[a2_0x2ed5('0x1')]=void 0x0;const environment_1=require(a2_0x2ed5('0x7'));const {output}=require(a2_0x2ed5('0xe'));class CloudRemoteCache{constructor(_0xd17bdb,_0xcd1f20,_0x4f2692,_0x1ee6c9){this[a2_0x2ed5('0x1d')]=_0xd17bdb;this[a2_0x2ed5('0x1f')]=_0xcd1f20;this[a2_0x2ed5('0x9')]=_0x4f2692;this[a2_0x2ed5('0x5')]=_0x1ee6c9;this[a2_0x2ed5('0x2b')]=[];}['retrieve'](_0x5741c0,_0x5116ac){var _0x2f350c;return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a2_0x2ed5('0x1b')])return![];const _0x3312d6=yield this[a2_0x2ed5('0x23')](_0x5741c0);if(!_0x3312d6||!_0x3312d6[a2_0x2ed5('0x3')]){if(environment_1['VERBOSE_LOGGING']){output[a2_0x2ed5('0x22')]({'title':a2_0x2ed5('0x28')+_0x5741c0+'.'});}this[a2_0x2ed5('0x9')][a2_0x2ed5('0x2c')][_0x5741c0]=a2_0x2ed5('0x12');return![];}try{yield this[a2_0x2ed5('0x5')][a2_0x2ed5('0xf')](_0x5741c0,_0x3312d6[a2_0x2ed5('0x3')],_0x5116ac);this[a2_0x2ed5('0x9')][a2_0x2ed5('0x2c')][_0x5741c0]='remote-cache-hit';return!![];}catch(_0x36594a){const _0x1bad83=(_0x2f350c=_0x36594a[a2_0x2ed5('0x17')])!==null&&_0x2f350c!==void 0x0?_0x2f350c:_0x36594a;if(_0x1bad83[a2_0x2ed5('0x18')]&&_0x1bad83[a2_0x2ed5('0x18')][a2_0x2ed5('0xb')]===0x194){if(environment_1[a2_0x2ed5('0x29')]){output[a2_0x2ed5('0x22')]({'title':'Nx\x20Cloud:\x20Cache\x20miss\x20'+_0x5741c0+a2_0x2ed5('0x26')});}}else{this[a2_0x2ed5('0x1d')]['cacheError']=this[a2_0x2ed5('0x1d')]['extractErrorMessage'](_0x1bad83,a2_0x2ed5('0x10'));}this[a2_0x2ed5('0x9')][a2_0x2ed5('0x2c')][_0x5741c0]=a2_0x2ed5('0x12');return![];}});}['store'](_0x25c56b,_0x3102e6){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x2ed5('0x1d')][a2_0x2ed5('0x1b')])return![];const _0x277f81=Promise[a2_0x2ed5('0xa')]()[a2_0x2ed5('0xd')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x59ed83;const _0x364537=yield this['hashUrls'](_0x25c56b);if(!_0x364537)return![];if(!_0x364537[a2_0x2ed5('0x1c')]){if(environment_1['VERBOSE_LOGGING']){output[a2_0x2ed5('0x22')]({'title':a2_0x2ed5('0x6')+_0x25c56b+a2_0x2ed5('0x8')});}return!![];}try{yield this[a2_0x2ed5('0x5')]['store'](_0x25c56b,_0x364537['put'],_0x3102e6);return!![];}catch(_0x4abc57){const _0x3c3a27=(_0x59ed83=_0x4abc57[a2_0x2ed5('0x17')])!==null&&_0x59ed83!==void 0x0?_0x59ed83:_0x4abc57;this[a2_0x2ed5('0x1d')][a2_0x2ed5('0x1b')]=this[a2_0x2ed5('0x1d')][a2_0x2ed5('0x4')](_0x3c3a27,'storage');return![];}}));this[a2_0x2ed5('0x2b')][a2_0x2ed5('0x0')](_0x277f81);return _0x277f81;});}[a2_0x2ed5('0x23')](_0x16f2d5){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0x16f2d5 in this[a2_0x2ed5('0x9')][a2_0x2ed5('0x14')]){return(yield this[a2_0x2ed5('0x9')][a2_0x2ed5('0x14')][_0x16f2d5])[_0x16f2d5];}else{const _0x2ec69d=this[a2_0x2ed5('0x9')]['scheduledTasks'][a2_0x2ed5('0x1a')](_0x5eebbf=>!this[a2_0x2ed5('0x9')][a2_0x2ed5('0x14')][_0x5eebbf[a2_0x2ed5('0x20')]])[a2_0x2ed5('0x16')](_0x993e9e=>_0x993e9e[a2_0x2ed5('0x20')]);if(_0x2ec69d['indexOf'](_0x16f2d5)===-0x1){_0x2ec69d[a2_0x2ed5('0x0')](_0x16f2d5);}const _0x3a5c1a=this[a2_0x2ed5('0x1f')][a2_0x2ed5('0x21')](environment_1[a2_0x2ed5('0x2a')],_0x2ec69d);_0x2ec69d[a2_0x2ed5('0x2')](_0x143d67=>{this[a2_0x2ed5('0x9')][a2_0x2ed5('0x14')][_0x143d67]=_0x3a5c1a;});return(yield _0x3a5c1a)[_0x16f2d5];}});}[a2_0x2ed5('0x13')](){return Promise[a2_0x2ed5('0x1e')](this[a2_0x2ed5('0x2b')])[a2_0x2ed5('0xd')](_0x1b8cd7=>_0x1b8cd7[a2_0x2ed5('0x19')]((_0x4fc8e2,_0x97a55)=>_0x4fc8e2&&_0x97a55,!![]));}}exports['CloudRemoteCache']=CloudRemoteCache;